#:kivy 2.2.1

<ItemWidget>:
  height: dp(52)

  canvas.before:
    Color:
      rgba: root.background_color if root.is_set else (0, 0, 0, 0)

    RoundedRectangle:
      pos: self.pos
      size: (dp(UBO_GUI_SHORT_WIDTH) if self.is_short else self.width - dp(30), self.height) if root.is_set else (0, 0)
      radius: (0, 0), (dp(26), dp(26)), (dp(26), dp(26)), (0, 0)

  orientation: 'horizontal'
  spacing: dp(4) if root.is_short else dp(6)

  Widget:
    width: dp(2)
    size_hint: None, 1

  Label:
    pos: root.pos
    color: root.color
    font_size: dp(26)
    text: root.icon if root.icon is not None else ''
    font_name: 'material_symbols'
    size_hint: None, 1
    width: self.parent.height - dp(25)
    valign: 'middle'

  Label:
    pos: root.pos
    color: root.color
    font_size: dp(18)
    text: '' if root.is_short else root.label
    text_size: self.size
    size_hint: 1, 1
    halign: 'left'
    valign: 'middle'
    shorten: True
    shorten_from: 'right'

  Widget:
    width: dp(34)
    size_hint: (None, 1) if root.is_short else (0, 1)
